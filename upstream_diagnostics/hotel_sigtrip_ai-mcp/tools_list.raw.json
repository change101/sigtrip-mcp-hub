{
  "captured_at": "2026-02-14T19:32:57.196216+00:00",
  "url_env": "MCP_PROVIDER_SIGTRIP_URL",
  "upstream_url": "https://hotel.sigtrip.ai/mcp",
  "payload": {
    "result": {
      "tools": [
        {
          "name": "get_prices",
          "title": "Get prices",
          "description": "Rooms + prices for a specified stay. Use when the guest provides dates (including relative like 'next Sunday') or expresses booking intent/availability/price interest. Always call this before asking for personal booking details. Preserve the returned order. After calling, follow structuredContent._instructions and present structuredContent.keyPoints verbatim as bullets. Offer to show photos via view_room_gallery for the same rooms and only call it if the guest wants to see images.",
          "inputSchema": {
            "type": "object",
            "properties": {
              "arrivalDate": {
                "type": "string",
                "description": "The arrival date in YYYY-MM-DD format"
              },
              "departureDate": {
                "type": "string",
                "description": "The departure date in YYYY-MM-DD format"
              },
              "adults": {
                "type": "integer",
                "minimum": 1,
                "maximum": 10,
                "description": "Number of adults (e.g. 2)",
                "default": 1
              },
              "hotelName": {
                "type": "string",
                "enum": [
                  "Club Quarters, Trafalgar Square",
                  "The Rally Hotel",
                  "Club Quarters, Grand Central"
                ],
                "description": "Hotel name"
              },
              "userRequest": {
                "type": "string",
                "description": "User's request for filtering rooms and prices. e.g budget under $200, cheapest option, best value, suite with view, etc.",
                "default": "Return three distinct room types that fit the guest's preferences (bed type, view, budget, vibe) and the provided adult count. If no preferences are given, return a balanced mix of popular options. Exclude ADA unless explicitly requested. Avoid duplicates."
              },
              "includeADA": {
                "type": "boolean",
                "default": false,
                "description": "Set true to include ADA rooms (default false)."
              }
            },
            "required": [
              "arrivalDate",
              "departureDate",
              "hotelName"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          },
          "annotations": {
            "readOnlyHint": true,
            "destructiveHint": false,
            "openWorldHint": true,
            "idempotentHint": true
          },
          "execution": {
            "taskSupport": "forbidden"
          },
          "_meta": {
            "openai/toolInvocation/invoking": "Calculating prices…",
            "openai/toolInvocation/invoked": "Prices calculated"
          },
          "outputSchema": {
            "type": "object",
            "properties": {
              "prices": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "roomType": {
                      "type": "string",
                      "description": "Room type code"
                    },
                    "roomDescription": {
                      "type": "string",
                      "description": "Room description"
                    },
                    "totalAmount": {
                      "type": "number",
                      "description": "Total amount after tax"
                    },
                    "currency": {
                      "type": "string",
                      "description": "Currency code"
                    },
                    "currencySymbol": {
                      "type": "string",
                      "description": "Currency symbol"
                    },
                    "category": {
                      "type": "string",
                      "description": "Room category"
                    },
                    "displayCategory": {
                      "type": "string",
                      "enum": [
                        "Guest Rooms",
                        "Suites",
                        "Penthouse"
                      ],
                      "description": "Display category bucket"
                    }
                  },
                  "required": [
                    "roomType",
                    "roomDescription",
                    "totalAmount",
                    "currency",
                    "currencySymbol"
                  ],
                  "additionalProperties": false
                },
                "description": "Array of prices for different room types"
              },
              "keyPoints": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Short, factual points to present verbatim as bullets"
              },
              "_instructions": {
                "type": "string",
                "description": "Internal rendering guidance for the assistant"
              },
              "galleryCount": {
                "type": "integer",
                "minimum": 0,
                "description": "Number of rooms passed for gallery rendering"
              }
            },
            "required": [
              "prices",
              "keyPoints",
              "_instructions",
              "galleryCount"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        {
          "name": "setup_booking",
          "title": "Setup booking",
          "description": "Call only after the guest has selected a specific room (typically after get_prices) and provided all required fields: first/last name, email, phone with country code, check-in, check-out, guests, roomType, hotelName. If they haven't chosen a room yet, use get_rooms first and offer view_room_gallery only if they ask to see images. Returns a Stripe guarantee URL. After calling, present structuredContent.keyPoints verbatim as bullets.",
          "inputSchema": {
            "type": "object",
            "properties": {
              "firstName": {
                "type": "string",
                "minLength": 1,
                "maxLength": 50,
                "description": "Guest's first name"
              },
              "lastName": {
                "type": "string",
                "minLength": 1,
                "maxLength": 50,
                "description": "Guest's last name"
              },
              "email": {
                "type": "string",
                "minLength": 1,
                "maxLength": 254,
                "pattern": "^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$",
                "description": "Guest's email"
              },
              "phoneNumber": {
                "type": "string",
                "description": "Guest's phone number beginning with country code. E.g +1..."
              },
              "checkIn": {
                "type": "string",
                "description": "Check-in date in YYYY-MM-DD format"
              },
              "checkOut": {
                "type": "string",
                "description": "Check-out date in YYYY-MM-DD format"
              },
              "guests": {
                "type": "integer",
                "minimum": 1,
                "maximum": 10,
                "description": "Number of guests (1-10)"
              },
              "roomType": {
                "type": "string",
                "description": "Selected room type. E.g CLBQ, STNK"
              },
              "hotelName": {
                "type": "string",
                "enum": [
                  "Club Quarters, Trafalgar Square",
                  "The Rally Hotel",
                  "Club Quarters, Grand Central"
                ]
              }
            },
            "required": [
              "firstName",
              "lastName",
              "email",
              "phoneNumber",
              "checkIn",
              "checkOut",
              "guests",
              "roomType",
              "hotelName"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          },
          "annotations": {
            "readOnlyHint": false,
            "destructiveHint": false,
            "openWorldHint": true,
            "idempotentHint": false
          },
          "execution": {
            "taskSupport": "forbidden"
          },
          "_meta": {
            "ui": {
              "resourceUri": "ui://booking-confirmation/viewer.html"
            },
            "openai/toolInvocation/invoking": "Creating your booking…",
            "openai/toolInvocation/invoked": "Booking created"
          },
          "outputSchema": {
            "type": "object",
            "properties": {
              "guaranteeUrl": {
                "type": "string",
                "description": "URL to guarantee the booking"
              },
              "keyPoints": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Short, factual points to present verbatim as bullets"
              },
              "bookingDetails": {
                "type": "object",
                "properties": {
                  "firstName": {
                    "type": "string"
                  },
                  "lastName": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "phoneNumber": {
                    "type": "string"
                  },
                  "checkIn": {
                    "type": "string"
                  },
                  "checkOut": {
                    "type": "string"
                  },
                  "guests": {
                    "type": "number"
                  },
                  "roomType": {
                    "type": "string"
                  },
                  "hotelName": {
                    "type": "string"
                  },
                  "createdAt": {
                    "type": "string",
                    "description": "ISO 8601 timestamp of booking creation"
                  }
                },
                "required": [
                  "firstName",
                  "lastName",
                  "email",
                  "phoneNumber",
                  "checkIn",
                  "checkOut",
                  "guests",
                  "roomType",
                  "hotelName",
                  "createdAt"
                ],
                "additionalProperties": false,
                "description": "Booking details for UI display"
              }
            },
            "required": [
              "guaranteeUrl",
              "keyPoints"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        {
          "name": "cancel_booking",
          "title": "Cancel booking with OTP",
          "description": "Cancels the booking using the reservation ID.",
          "inputSchema": {
            "type": "object",
            "properties": {
              "reservationId": {
                "type": "string",
                "description": "Reservation ID"
              },
              "email": {
                "type": "string",
                "minLength": 1,
                "maxLength": 254,
                "pattern": "^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$",
                "description": "Email associated with the reservation"
              },
              "description": {
                "type": "string",
                "description": "Description of the cancellation"
              }
            },
            "required": [
              "reservationId",
              "email",
              "description"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          },
          "annotations": {
            "readOnlyHint": false,
            "destructiveHint": true,
            "openWorldHint": true,
            "idempotentHint": false
          },
          "execution": {
            "taskSupport": "forbidden"
          },
          "outputSchema": {
            "type": "object",
            "properties": {
              "success": {
                "type": "boolean",
                "description": "Whether the cancellation was successful"
              },
              "keyPoints": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Short, factual points to present verbatim as bullets"
              }
            },
            "required": [
              "success",
              "keyPoints"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        {
          "name": "get_rooms",
          "title": "Get rooms",
          "description": "Room discovery (no pricing). Use only when the guest is browsing and has not provided any dates or price intent. Call for 'what rooms are available?' or similar. After calling, follow structuredContent._instructions and present structuredContent.keyPoints verbatim as bullets. After presenting rooms, ask if they'd like to see photos; call view_room_gallery only if they ask to see images.",
          "inputSchema": {
            "type": "object",
            "properties": {
              "hotelName": {
                "type": "string",
                "enum": [
                  "Club Quarters, Trafalgar Square",
                  "The Rally Hotel",
                  "Club Quarters, Grand Central"
                ]
              },
              "adults": {
                "type": "integer",
                "minimum": 1,
                "maximum": 10,
                "description": "Number of adults (e.g. 2)"
              },
              "userRequest": {
                "type": "string",
                "description": "User's request for filtering rooms. e.g 3 max occupancy rooms, 2 queen beds, suite, etc.",
                "default": "Return three distinct room types that match the guest's stated preferences (bed type, view, budget, vibe) if provided. If no preferences are given, return a balanced mix of popular options. Exclude ADA unless explicitly requested. Avoid duplicates."
              },
              "includeADA": {
                "type": "boolean",
                "default": false,
                "description": "Set true to include ADA rooms (default false)."
              }
            },
            "required": [
              "hotelName"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          },
          "annotations": {
            "readOnlyHint": true,
            "destructiveHint": false,
            "openWorldHint": true,
            "idempotentHint": true
          },
          "execution": {
            "taskSupport": "forbidden"
          },
          "_meta": {
            "openai/toolInvocation/invoking": "Finding available rooms…",
            "openai/toolInvocation/invoked": "Rooms found"
          },
          "outputSchema": {
            "type": "object",
            "properties": {
              "rooms": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "roomType": {
                      "type": "string",
                      "description": "Room type code"
                    },
                    "roomDescription": {
                      "type": "string",
                      "description": "Room description"
                    },
                    "maxOccupancy": {
                      "type": "number",
                      "description": "Maximum occupancy"
                    },
                    "category": {
                      "type": "string",
                      "description": "Room category"
                    },
                    "displayCategory": {
                      "type": "string",
                      "enum": [
                        "Guest Rooms",
                        "Suites",
                        "Penthouse"
                      ],
                      "description": "Display category bucket"
                    }
                  },
                  "required": [
                    "roomType",
                    "roomDescription",
                    "maxOccupancy"
                  ],
                  "additionalProperties": false
                },
                "description": "Array of available rooms"
              },
              "keyPoints": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "Short, factual points to present verbatim as bullets"
              },
              "_instructions": {
                "type": "string",
                "description": "Internal rendering guidance for the assistant"
              },
              "galleryCount": {
                "type": "integer",
                "minimum": 0,
                "description": "Number of rooms passed for gallery rendering"
              }
            },
            "required": [
              "rooms",
              "keyPoints",
              "_instructions",
              "galleryCount"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          }
        },
        {
          "name": "view_room_gallery",
          "title": "View room gallery",
          "description": "Display a gallery of images for multiple room types (ADA excluded by default). Use after get_rooms or get_prices only if the guest asks to see images, and pass expectedCount=galleryCount using the returned room list.",
          "inputSchema": {
            "type": "object",
            "properties": {
              "hotelName": {
                "type": "string",
                "enum": [
                  "Club Quarters, Trafalgar Square",
                  "The Rally Hotel",
                  "Club Quarters, Grand Central"
                ],
                "description": "Hotel name for which to load the gallery"
              },
              "expectedCount": {
                "type": "integer",
                "minimum": 1,
                "description": "Expected number of rooms passed to the gallery (from get_rooms/get_prices)"
              },
              "rooms": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "roomType": {
                      "type": "string",
                      "description": "Room type code or name (e.g., ASQQ, All-Star King)"
                    },
                    "title": {
                      "type": "string",
                      "description": "Display title for the room"
                    }
                  },
                  "required": [
                    "roomType"
                  ],
                  "additionalProperties": false
                },
                "minItems": 1,
                "description": "Rooms to display in the gallery. Typically pass the rooms returned by get_rooms or get_prices."
              }
            },
            "required": [
              "hotelName",
              "expectedCount",
              "rooms"
            ],
            "additionalProperties": false,
            "$schema": "http://json-schema.org/draft-07/schema#"
          },
          "annotations": {
            "readOnlyHint": true,
            "destructiveHint": false,
            "openWorldHint": false,
            "idempotentHint": true
          },
          "execution": {
            "taskSupport": "forbidden"
          },
          "_meta": {
            "ui": {
              "resourceUri": "ui://hotel-images/viewer.html"
            },
            "openai/toolInvocation/invoking": "Loading room gallery…",
            "openai/toolInvocation/invoked": "Room gallery loaded"
          }
        }
      ]
    },
    "jsonrpc": "2.0",
    "id": 1
  }
}